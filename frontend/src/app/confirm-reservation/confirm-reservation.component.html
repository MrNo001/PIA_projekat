<p>confirm-reservation works!</p>

<div class="confirm-reservation">
  <h4 class="mb-4">Potvrdite rezervaciju</h4>

  <div class="summary-card">
    <h5>Detalji rezervacije</h5>
    <div class="summary-item">
      <span>Vikendica:</span>
      <span><strong>Sunčani Breg</strong></span>
    </div>
    <div class="summary-item">
      <span>Period:</span>
      <span>{{ formattedPeriod }}</span>
    </div>
    <div class="summary-item">
      <span>Broj gostiju:</span>
      <span>{{ formattedGuests }}</span>
    </div>
    <div class="summary-item">
      <span>Broj noći:</span>
      <span>{{ nights }}</span>
    </div>

    <div class="price-calculation">
      <div class="summary-item">
        <span>Cena po noći:</span>
        <span>85€</span>
      </div>
      <div class="summary-item">
        <span>Ukupno noći:</span>
        <span>{{ nights }}</span>
      </div>
      <div class="summary-item">
        <span>Ukupna cena:</span>
        <span><strong>{{ totalPrice }}€</strong></span>
      </div>
    </div>
  </div>

  <div class="input-group">
    <label for="cardNumber">Broj kreditne kartice</label>
    <div class="card-input">
      <input type="text" class="form-control border-0 p-0" id="cardNumber"
             [(ngModel)]="cardNumber">
    </div>
  </div>

  <div class="input-group">
    <label for="specialRequests">Posebni zahtevi (opciono)</label>
    <textarea class="form-control" id="specialRequests" rows="3"
              placeholder="Ako imate neke posebne zahteve, navedite ih ovde..."
              maxlength="500" [(ngModel)]="specialRequests"></textarea>
    <div class="character-count">{{ specialRequests.length }}/500 karaktera</div>
  </div>

  <div class="form-check mb-4">
    <input class="form-check-input" type="checkbox" id="termsCheck"
           [(ngModel)]="termsAccepted">
    <label class="form-check-label" for="termsCheck">
      Saglasan/na sam sa uslovima rezervacije i pravilima otkazivanja
    </label>
  </div>

  <div *ngIf="submitError" class="alert alert-danger">
    <i class="bi bi-exclamation-circle"></i>
    {{ submitError }}
  </div>

  <button class="btn btn-primary" (click)="completeReservation()"
          [disabled]="!termsAccepted || isSubmitting">
    <span *ngIf="isSubmitting" class="spinner-border spinner-border-sm me-2" role="status"></span>
    {{ isSubmitting ? 'Kreiranje rezervacije...' : 'Završi rezervaciju' }}
  </button>
</div>
