<body>
  <div class="register-container">
    <h1>Register</h1>

    <label>Username:</label>
    <input type="text" [(ngModel)]="user.username" name="username">

    <label>Password:</label>
    <input type="password" [(ngModel)]="user.password" name="password" (input)="onPasswordChange()">
    <div class="error-message" *ngIf="passwordError">{{ passwordError }}</div>

    <label>Email:</label>
    <input type="email" [(ngModel)]="user.email" name="email">

    <label>Firstname:</label>
    <input type="text" [(ngModel)]="user.firstName" name="firstName">

    <label>Lastname:</label>
    <input type="text" [(ngModel)]="user.lastName" name="lastName">

    <label>Gender:</label>
    <select [(ngModel)]="user.gender" name="gender">
      <option value="M">M</option>
      <option value="Ž">Ž</option>
    </select>

    <label>Address:</label>
    <input type="text" [(ngModel)]="user.address" name="address">

    <label>Phone:</label>
    <input type="text" [(ngModel)]="user.phone" name="phone">

    <label>Credit Card:</label>
    <div class="credit-card-input">
      <input type="text" [(ngModel)]="user.creditCard" name="creditCard" (input)="onCreditCardChange()" (focus)="onCreditCardFocus()">
      <img *ngIf="creditCardType === 'visa'" src="https://cdn.jsdelivr.net/npm/simple-icons@v9/icons/visa.svg" alt="Visa" class="card-icon">
      <img *ngIf="creditCardType === 'mastercard'" src="https://cdn.jsdelivr.net/npm/simple-icons@v9/icons/mastercard.svg" alt="MasterCard" class="card-icon">
      <img *ngIf="creditCardType === 'diners'" src="https://cdn.jsdelivr.net/npm/simple-icons@v9/icons/dinersclub.svg" alt="Diners Club" class="card-icon">
    </div>
    <div class="error-message" *ngIf="creditCardError">{{ creditCardError }}</div>

    <label>Profile Image:</label>
    <input type="file" (change)="onFileSelected($event)">

    <button (click)="register()">Register</button>

    <div class="message">{{message}}</div>

    <a routerLink="/">Back</a>
  </div>
</body>
